(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{367:function(e,t,n){"use strict";n.d(t,"a",(function(){return je}));var r=n(1),a=n.n(r),o=n(21),c=n(350),i=n(0),s=n.n(i),l=n(1109),u=n(19),d=n.n(u),p=n(12),f=n.n(p),h=n(24),g=n.n(h),m=n(1106),y=n(1107),b=n(248);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=n(5),O=n.n(E),j=n(6),k=n.n(j),P=n(8),R=n.n(P),S=n(9),C=n.n(S),I=n(4),D=n.n(I),T=n(329),x=n(327),L=n(113),A=n(1105),B=n(90),V=n(95);var N={signIn:function(e){return{type:"SIGN_IN",payload:e}},signOut:function(){return{type:"SIGN_OUT"}}},U=n(87),z=n(203),F=n(99),H=n(143),G=n(10);function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D()(e);if(t){var a=D()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C()(this,n)}}var _=function(e){R()(n,e);var t=W(n);function n(){var e;O()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleLostPassword=function(){console.error("Password forgotten, oh no :C")},e.validationSchema=F.a().shape({email:F.b().email("Invalid email").required("You need to put an email to access your Vault"),password:F.b().required("You need the password to your Vault").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*])(?=.{8,})/,"A lowercase, uppercase, number and a special character and 8+ characters")}),e}return k()(n,[{key:"render",value:function(){var e=this;return s.a.createElement(o.Layout,{style:{alignContent:"center",justifyContent:"center",alignItems:"center",backgroundColor:"#EF6969",height:"100%"}},s.a.createElement(o.Layout,{style:{borderRadius:20,paddingVertical:"2%",paddingHorizontal:"4%",justifyContent:"center"}},s.a.createElement(o.Layout,null,s.a.createElement(o.Text,{style:{textAlign:"center"},category:"h1"},"Welcome to your digital backlog!"),s.a.createElement(o.Divider,null)),s.a.createElement(z.a,{initialValues:{email:"",password:""},onSubmit:function(e,t){Object(V.auth)().createUserWithEmailAndPassword(e.email,e.password).catch((function(n){Object(V.auth)().signInWithEmailAndPassword(e.email,e.password).catch((function(e){t.setErrors({general:e.message})}))}))},initialErrors:{email:"",password:"",general:""},validationSchema:this.validationSchema},(function(t){var n=t.handleChange,r=t.handleBlur,a=t.handleSubmit,c=t.values,i=t.errors,l=t.touched,u=t.isValid;return s.a.createElement(o.Layout,{style:{justifyContent:"space-around",marginVertical:"2%"}},s.a.createElement(G.a,{style:i.general?{backgroundColor:"#EF6969",borderRadius:20,padding:"2%"}:{borderRadius:20,padding:"2%"}},s.a.createElement(H.a,{behavior:"padding",style:i.email&&l.email?{backgroundColor:"#EF6969",borderRadius:20,padding:"2%"}:{borderRadius:20,padding:"2%"}},s.a.createElement(o.Input,{keyboardType:"email-address",autoCapitalize:"none",label:"email",autoCorrect:!1,autoCompleteType:"email",placeholder:"email@example.com",value:c.email,onBlur:r("email"),onChangeText:n("email")}),s.a.createElement(o.Text,null,i.email&&l.email?i.email:"")),s.a.createElement(H.a,{behavior:"padding",style:i.password&&l.password?{backgroundColor:"#EF6969",borderRadius:20,padding:"2%"}:{borderRadius:20,padding:"2%"}},s.a.createElement(o.Input,{keyboardType:"default",label:"password",autoCapitalize:"none",autoCorrect:!1,autoCompleteType:"password",placeholder:"Password",value:c.password,onBlur:r("password"),secureTextEntry:!0,onChangeText:n("password")}),s.a.createElement(o.Text,null,i.password&&l.password?i.password:"")),i.general?s.a.createElement(o.Text,{style:{textAlign:"center",color:"white"}},i.general):null),s.a.createElement(G.a,{style:{padding:"2%",alignItems:"center"}},s.a.createElement(o.Button,{disabled:!u,onPress:a},"Access the vault!"),s.a.createElement(o.Button,{style:{marginVertical:"5%"},disabled:!u,appearance:"outline",onPress:a},"Sign Up for a Vault!"),s.a.createElement(o.Button,{appearance:"ghost",onPress:function(){return e.handleLostPassword()}},"Forgot your password?")))}))))}}]),n}(i.Component),J=Object(B.b)((function(e){return{}}),(function(e){return{signIn:function(t){return e(N.signIn(t))}}}))(_),q=n(14);function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D()(e);if(t){var a=D()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C()(this,n)}}var M=function(e){return s.a.createElement(o.Icon,a()({},e,{name:"plus-circle-outline"}))},Y=F.a().shape({title:F.b().required("What do you want to store?"),tags:F.b().optional()}),Z=function(e){R()(n,e);var t=K(n);function n(){var e;O()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).handleSend=function(t,n){var r,a={title:t.title,tags:t.tags.split(","),created:Date.now(),isDone:!1};console.log(a),V.database().ref((null==(r=V.auth().currentUser)?void 0:r.uid)+"/reminders").push(a),e.props.navigation.goBack()},e}return k()(n,[{key:"render",value:function(){var e=this;return s.a.createElement(o.Layout,{style:{backgroundColor:"#EF6969",width:"100%",height:"100%",alignItems:"center",justifyContent:"flex-end"}},s.a.createElement(o.Text,{category:"h1",style:{paddingVertical:"2%"}},"Create a entry"),s.a.createElement(o.Layout,{style:{borderTopLeftRadius:20,borderTopRightRadius:20,width:"web"===q.a.OS?"50%":"100%",minHeight:"80%",maxHeight:"90%",justifyContent:"space-between",alignItems:"center"},level:"1"},s.a.createElement(o.Layout,{level:"2",style:{borderRadius:20,margin:20,padding:20,height:"95%",width:"90%",alignItems:"center"}},s.a.createElement(z.a,{initialValues:{title:"",tags:""},initialErrors:{title:"",tags:""},onSubmit:this.handleSend,validationSchema:Y},(function(t){var n=t.handleChange,r=t.handleBlur,a=t.handleSubmit,c=(t.values,t.errors,t.touched,t.isValid);return s.a.createElement(o.Layout,{level:"2",style:{width:"web"===q.a.OS?"90%":"100%",height:"100%",justifyContent:"space-between"}},s.a.createElement(o.Layout,{level:"3",style:{padding:20,borderRadius:20,height:"25%",justifyContent:"space-around"}},s.a.createElement(o.Text,{category:"h6",style:{textAlign:"center"}},"Provide some detail"),s.a.createElement(o.Input,{keyboardType:"default",label:"Title",autoCapitalize:"sentences",autoCorrect:!0,placeholder:"Drop the line!",onBlur:r("title"),onChangeText:n("title")}),s.a.createElement(o.Input,{keyboardType:"default",label:"Tags",autoCapitalize:"words",autoCorrect:!0,placeholder:"Write concepts related to the task, separated by ','",onBlur:r("tags"),onChangeText:n("tags")})),s.a.createElement(o.Layout,{level:"2",style:{width:"90%",borderRadius:20,padding:20,margin:20,alignItems:"center"}},s.a.createElement(o.Button,{accessoryLeft:M,status:"primary",disabled:!c,onPress:a},"Add it to the vault!"),s.a.createElement(o.Button,{appearance:"ghost",style:{width:"100%"},status:"danger",onPress:function(){e.props.navigation.goBack()}},"Cancel")))})))))}}]),n}(i.Component),$=n(63),Q=n(30);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D()(e);if(t){var a=D()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C()(this,n)}}var ne=function(e){return s.a.createElement(o.Icon,a()({},e,{name:"plus-circle-outline"}))};var re=function(e){R()(n,e);var t=te(n);function n(e){var r;return O()(this,n),(r=t.call(this,e)).asyncSetBacklog(),r.state={backlog:{}},Object($.database)().ref(r.props.userUID+"/reminders").on("value",(function(e){return r.updateTasks(e)})),r}return k()(n,[{key:"asyncSetBacklog",value:function(){var e;return d.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.a.awrap(Object($.database)().ref(this.props.userUID+"/reminders").once("value").then((function(e){return e})));case 2:e=t.sent,this.updateTasks(e);case 4:case"end":return t.stop()}}),null,this,null,Promise)}},{key:"updateTasks",value:function(e){this.setState(ee(ee({},this.state),{},{backlog:e.val()}))}}]),k()(n,[{key:"showTasks",value:function(){return this.state.backlog?Object.entries(this.state.backlog).map((function(e){return function(e){var t=e[1],n=e[0];return s.a.createElement(o.Radio,{checked:t.isDone,style:{marginVertical:2},key:t.title,onChange:function(){var e;Object($.database)().ref((null==(e=Object($.auth)().currentUser)?void 0:e.uid)+"/reminders/"+n+"/isDone").set(!t.isDone)},onPress:function(){},onLongPress:function(){var e;Object($.database)().ref((null==(e=Object($.auth)().currentUser)?void 0:e.uid)+"/reminders/"+n).remove()}},t.title)}(e)})):null}},{key:"render",value:function(){var e=this;return s.a.createElement(o.Layout,{style:{backgroundColor:"#EF6969",width:"100%",height:"100%",alignItems:"center",justifyContent:"flex-end"}},s.a.createElement(o.Text,{category:"h1",style:{paddingVertical:"2%"}},"Digital backlog"),s.a.createElement(o.Layout,{style:{borderTopLeftRadius:20,borderTopRightRadius:20,width:"web"===q.a.OS&&Q.a.get("screen").width>500?"50%":"100%",minHeight:"80%",maxHeight:"90%",justifyContent:"space-between",alignItems:"center"},level:"1"},s.a.createElement(o.Layout,{level:"2",style:{borderRadius:20,margin:20,padding:20,height:"50%",width:"90%",alignItems:"center"}},s.a.createElement(o.Text,{category:"h2"},"Last time"),s.a.createElement(o.Divider,null),s.a.createElement(o.Layout,{level:"3",style:{height:"90%",width:"99%",borderRadius:20,padding:20}},this.showTasks())),s.a.createElement(o.Layout,{level:"2",style:{width:"90%",borderRadius:20,padding:20,margin:20,alignItems:"center"}},s.a.createElement(o.Button,{appearance:"ghost",style:{width:"100%"},accessoryLeft:ne,onPress:function(){e.props.navigation.navigate("Add Task")}},"Add a reminder"))))}}]),n}(i.Component),ae=Object(B.b)((function(e){return{userUID:e.user.userInfo.uid}}),{})(re);function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D()(e);if(t){var a=D()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C()(this,n)}}var ce=Object(A.a)(),ie=function(e){R()(n,e);var t=oe(n);function n(){return O()(this,n),t.apply(this,arguments)}return k()(n,[{key:"render",value:function(){return s.a.createElement(ce.Navigator,{screenOptions:{headerShown:!1}},s.a.createElement(ce.Screen,{name:"List",component:ae}),s.a.createElement(ce.Screen,{name:"Add Task",component:Z}))}}]),n}(i.Component);function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=D()(e);if(t){var a=D()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return C()(this,n)}}var le=Object(A.a)();function ue(){return i.createElement(le.Navigator,{screenOptions:{headerShown:!1}},i.createElement(le.Screen,{name:"Root",component:J}))}var de=function(e){R()(n,e);var t=se(n);function n(e){return O()(this,n),t.call(this,e)}return k()(n,[{key:"componentDidMount",value:function(){var e=this;Object(V.auth)().onAuthStateChanged((function(t){t&&e.props.signIn({user:t})}))}},{key:"render",value:function(){return this.props.isLogged?i.createElement(T.a,{theme:"dark"===this.props.colorScheme?x.a:L.a},i.createElement(pe,null)):i.createElement(T.a,{theme:"dark"===this.props.colorScheme?x.a:L.a},i.createElement(ue,null))}}]),n}(i.Component);function pe(){return i.createElement(le.Navigator,{screenOptions:{headerShown:!1}},i.createElement(le.Screen,{name:"Content",component:ie}))}var fe=Object(B.b)((function(e){return{isLogged:e.user.isLogged}}),(function(e){var t=N.signIn;return Object(U.a)({signIn:t},e)}))(de),he=n(247),ge=n(366);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){f()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var be={isLogged:!1,userInfo:[]};function ve(e,t){return ye(ye({},e),{},{userInfo:t.user,isLogged:!0})}function we(e){return ye(ye({},e),{},{user:[],isLogged:!1})}var Ee=Object(U.b)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return e=ve(e,t.payload);case"SIGN_OUT":return e=we(e);default:return e}}}),Oe=Object(U.c)(Ee);n(608);function je(){return function(){var e=i.useState(!1),t=g()(e,2),r=t[0],a=t[1];return i.useEffect((function(){d.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b.b(),e.next=4,d.a.awrap(y.b(w(w({},m.a.font),{},{"space-mono":n(579)})));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.warn(e.t0);case 9:return e.prev=9,a(!0),b.a(),e.finish(9);case 13:case"end":return e.stop()}}),null,null,[[0,6,9,13]],Promise)}),[]),r}()?s.a.createElement(B.a,{store:Oe},s.a.createElement(o.IconRegistry,{icons:ge.EvaIconsPack}),s.a.createElement(o.ApplicationProvider,a()({},he,{theme:he.light}),s.a.createElement(l.b,null,s.a.createElement(fe,{colorScheme:"light"}),s.a.createElement(c.StatusBar,null)))):null}$.initializeApp({apiKey:"AIzaSyANF7HJeO4DsGg5OATcKuRe_NIP0AHClJA",authDomain:"digital-backlog.firebaseapp.com",databaseURL:"https://digital-backlog.firebaseio.com",projectId:"digital-backlog",storageBucket:"digital-backlog.appspot.com",messagingSenderId:"909734181401",appId:"1:909734181401:web:d2294e1ef2a5c2061b0888"}),$.auth().setPersistence($.auth.Auth.Persistence.LOCAL)},377:function(e,t,n){e.exports=n(1102)},579:function(e,t,n){e.exports=n.p+"./fonts/SpaceMono-Regular.ttf"}},[[377,1,2]]]);
//# sourceMappingURL=app.86ba95fa.chunk.js.map